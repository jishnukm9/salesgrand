{% extends "navbar.html" %} {% block content %}
<!-- partial -->
<div class="main-panel">
  <div class="content-wrapper">
    <div class="row">
      <div class="col-sm-12">
        <div class="home-tab">
          <div
            class="d-sm-flex align-items-center justify-content-between border-bottom"
          >
            
            <nav class="nav nav-borders">
              <a class="nav-link active ps-0 pe-0 ms-0 me-3"  style="color: #4555B9 ; border-bottom:2px solid #4555B9;"  href="#">Notifications </a>
        
              
  
             
          </nav>



          </div>
          <br />
         
          <div class="row">
            <div class="col-md-12">
              <div
                class="d-flex justify-content-between align-items-center mb-1"
              ></div>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12">
              <!-- Card content -->
              <div class="card card-rounded p-3 mb-4" style="border-radius:5px;border:0.5px solid #e2e2e2;">
                <div class="card-body">
                   
                        <h3 class="fs-5 nunito-font mb-3"  ><strong>Notifications</strong></h3>

                        
                
 
                  <!-- <div class="horizontal-line-dark mb-1 mt-4"></div> -->
                          
                  
                <div>
                  {% for notif in notifications %}
                

                  {% if notif.status == "Active" %}


                    {% if notif.notification_type == 'servicecall' %}
                  <div class="d-flex justify-content-between align-items-center active-notification  p-1 mb-1 " >
                    <div class="col-lg-1">
                   <p class="fs-7 m-3">{{ forloop.counter }}</p>
                   </div>
                   <div class="col-lg-2">
                   <p class="fs-7 m-3">Service</p>
                </div>
                <div class="col-lg-2">
                   <p class="fs-7 m-3">  <a class="text-decoration-none" href="../serviceupdateform/{{ notif.serviceref }}/">{{notif.serviceref}}</a></p>
                </div>
                <div class="col-lg-5">
                   <p class="fs-7 m-3">Call <span class="text-success "> <strong>{{notif.service.firstname}} {{notif.service.lastname}}</strong> </span>  
                    on <span class="text-success"> <strong>{{notif.service.phone}}</strong> </span>
                       at 
                      <span class="text-success"> <strong>{{notif.schedule_call}}</strong> </span> </p>
                    </div>
                    <div class="col-lg-2">
                   <p class="fs-7 m-3">
                       <a data-toggle="tooltip" data-placement="top" title="Call Attended" class="call-attended" href="{% url 'savecalllogs' serviceref=notif.serviceref remark='Call Attended' notificationid=notif.notification_id  %}"><i class="fa-solid fa-phone"></i></a>
                       <a data-toggle="tooltip" data-placement="top" title="Call Not Attended" class="call-not-attended" href="{% url 'savecalllogs' serviceref=notif.serviceref remark='Call Not Attended' notificationid=notif.notification_id  %}"><i class="fa-solid fa-phone-slash"></i></a>
                       <a data-toggle="tooltip" data-placement="top" title="Delete Notification" class="delete-notification" href="{% url 'deletenotification' notificationid=notif.notification_id %}"><i class="fa-solid fa-trash-can"></i></a>
                    </p>  
                </div>
                  </div>
                  {% endif %}




                  {% elif notif.status == 'InActive' %}
                  {% if notif.notification_type == 'servicecall' %}
                  <div class="d-flex justify-content-between align-items-center  p-1 mb-1" style="background-color:#ced4da;">

                <div class="col-lg-1">
                    <p class="fs-7 m-3">{{ forloop.counter }}</p>
                </div>
                <div class="col-lg-2">
                        <p class="fs-7 m-3">Service</p>
                        </div>
                        <div class="col-lg-2">
                        <p class="fs-7 m-3"><a class="text-dark text-decoration-none" href="../serviceupdateform/{{ notif.serviceref }}/">{{notif.serviceref}}</a></p>
                    </div>
                    <div class="col-lg-5">
                        <p class="fs-7 m-3">Call <span > <strong>{{notif.service.firstname}} {{notif.service.lastname}}</strong> </span>  
                         on <span > <strong>{{notif.service.phone}}</strong> </span>
                            at 
                           <span > <strong>{{notif.schedule_call}}</strong> </span> </p>

                        </div>

                        <div class="col-lg-2">

                        <p class="fs-7 m-3">
                             <!-- <a  class="call-attended inactive-call-btn" href="">Call Attended</a>
                            <a  class="call-not-attended inactive-call-btn" href="">Call Not Attended</a> -->
                            <a data-toggle="tooltip" data-placement="top" title="Delete Notification" href="{% url 'deletenotification' notificationid=notif.notification_id %}">
                                <i class="fa-solid fa-xmark"></i>
                            </a>

                            
                           
                         </p> 
                        </div> 
                       </div>
                
                  {% endif %}
                

                  {% endif %}
                  {% endfor %}

                </div>
                  


                </div>
              </div>
            </div>




          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- content-wrapper ends -->
</div>
<!-- main-panel ends -->
{% endblock %}
